(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{hom0:function(t,o,e){"use strict";e.r(o),e.d(o,"MovimentacaoCaixaModule",(function(){return V}));var a=e("ofXK"),i=e("tyNb"),c=e("7LiV"),n=e("jIHw"),r=e("rEr+"),s=e("PCNd"),l=e("IzEk"),b=e("nYR2"),d=e("fXoL"),m=e("Wgwc"),p=e("AytR"),u=e("tk/3");let f=(()=>{class t{constructor(t){this.http=t}getMovimentacoes(t,o){return this.http.get(`${p.a.API.URL}${p.a.API.Routes.dashboards.caixas.movimentacoes.replace(":codigoFranqueado",t.toString()).replace(":dataReferencia",o?m(o).format("YYYY-MM-DD"):"")}`)}}return t.\u0275fac=function(o){return new(o||t)(d.Wb(u.b))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=e("K3ix"),v=e("JqCM");let g=(()=>{class t{constructor(t){this.spinner=t}show(){this.spinner.show()}hide(){this.spinner.hide()}}return t.\u0275fac=function(o){return new(o||t)(d.Wb(v.c))},t.\u0275prov=d.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=e("mIlV"),S=e("NmSL"),x=e("tkl0");const M=["*"];let I=(()=>{class t{constructor(){}ngOnInit(){}ngAfterViewInit(){this.onOpen(),this.onClose()}open(){$(`#${this.modal.id}`).modal("show")}close(){$(`#${this.modal.id}`).modal("hide")}onOpen(){this.modal.onOpen&&$(`#${this.modal.id}`).on("shown.bs.modal",()=>this.modal.onOpen())}onClose(){this.modal.onClose&&$(`#${this.modal.id}`).on("hidden.bs.modal",()=>this.modal.onClose())}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=d.Gb({type:t,selectors:[["ft-modal"]],inputs:{modal:"modal"},ngContentSelectors:M,decls:12,vars:3,consts:[["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade",3,"id"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[3,"innerHTML"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"]],template:function(t,o){1&t&&(d.lc(),d.Sb(0,"div",0),d.Sb(1,"div",1),d.Sb(2,"div",2),d.Sb(3,"div",3),d.Sb(4,"h5",4),d.Nb(5,"span",5),d.Ic(6),d.Rb(),d.Sb(7,"button",6),d.ac("click",(function(){return o.close()})),d.Sb(8,"span",7),d.Ic(9,"\xd7"),d.Rb(),d.Rb(),d.Rb(),d.Sb(10,"div",8),d.kc(11),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.mc("id",null==o.modal?null:o.modal.id),d.Ab(5),d.nc("innerHTML",null==o.modal?null:o.modal.icon,d.Bc),d.Ab(1),d.Kc(" ",null==o.modal?null:o.modal.title," "))},styles:[""]}),t})();var w=e("7zfz"),O=e("BdmU");let k=(()=>{class t{transform(t,...o){return t?m(t).format("DD/MM/YYYY HH:MM"):""}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=d.Lb({name:"dateFormat",type:t,pure:!0}),t})();const y=["refModalObs"],A=["filters"];function F(t,o){1&t&&(d.Sb(0,"colgroup"),d.Nb(1,"col",19),d.Nb(2,"col",20),d.Nb(3,"col",20),d.Nb(4,"col",21),d.Nb(5,"col",21),d.Nb(6,"col",21),d.Nb(7,"col",22),d.Nb(8,"col",23),d.Rb())}function C(t,o){1&t&&(d.Sb(0,"tr"),d.Sb(1,"th"),d.Ic(2,"Data"),d.Rb(),d.Sb(3,"th"),d.Ic(4,"Tipo Movimento"),d.Rb(),d.Sb(5,"th"),d.Ic(6,"Tipo Pagamento"),d.Rb(),d.Sb(7,"th",24),d.Ic(8,"Valor Sistema (R$)"),d.Rb(),d.Sb(9,"th",24),d.Ic(10,"Valor usu\xe1rio (R$)"),d.Rb(),d.Sb(11,"th",24),d.Ic(12,"Diferen\xe7a"),d.Rb(),d.Sb(13,"th"),d.Ic(14,"Operador caixa"),d.Rb(),d.Sb(15,"th"),d.Ic(16,"Obs."),d.Rb(),d.Rb())}const N=function(t,o){return{"btn-outline-dark":t,"btn-outline-primary":o}};function T(t,o){if(1&t){const t=d.Tb();d.Sb(0,"tr",25),d.Sb(1,"td"),d.Ic(2),d.fc(3,"dateFormat"),d.Rb(),d.Sb(4,"td"),d.Ic(5),d.Rb(),d.Sb(6,"td"),d.Ic(7),d.Rb(),d.Sb(8,"td",24),d.Ic(9),d.fc(10,"number"),d.Rb(),d.Sb(11,"td",24),d.Ic(12),d.fc(13,"number"),d.Rb(),d.Sb(14,"td",24),d.Ic(15),d.fc(16,"number"),d.Rb(),d.Sb(17,"td"),d.Ic(18),d.Rb(),d.Sb(19,"td"),d.Sb(20,"button",26),d.ac("click",(function(){d.Ac(t);const e=o.$implicit,a=d.ec(2);return e.Observacao&&a.openModalObs(e.Observacao)})),d.Ic(21," Ler texto "),d.Rb(),d.Rb(),d.Rb()}if(2&t){const t=o.$implicit,e=d.ec(2);d.mc("ngClass",e.tipoMovimentoColors(t)),d.Ab(2),d.Jc(d.gc(3,10,t.Data)),d.Ab(3),d.Jc(t.TipoMovimento),d.Ab(2),d.Jc(t.TipoPagamento),d.Ab(2),d.Jc(d.hc(10,12,t.ValorSistema,"1.2-2")),d.Ab(3),d.Jc(d.hc(13,15,t.ValorUsuario,"1.2-2")),d.Ab(3),d.Kc("",d.gc(16,18,t.PercentualDiferenca),"%"),d.Ab(3),d.Jc(t.OperadorCaixa),d.Ab(2),d.mc("ngClass",d.sc(20,N,!t.Observacao,t.Observacao))("disabled",!t.Observacao)}}function D(t,o){if(1&t&&(d.Qb(0),d.Sb(1,"div",11),d.Sb(2,"h5",12),d.dc(),d.Sb(3,"svg",13),d.Nb(4,"use",14),d.Rb(),d.Ic(5),d.Rb(),d.cc(),d.Sb(6,"p-table",15),d.Gc(7,F,9,0,"ng-template",16),d.Gc(8,C,17,0,"ng-template",17),d.Gc(9,T,22,23,"ng-template",18),d.Rb(),d.Rb(),d.Pb()),2&t){const t=o.$implicit;d.Ab(5),d.Kc(" Caixa - ",t.NomeCaixa," "),d.Ab(1),d.mc("value",t.Registros)("scrollable",!0)}}function P(t,o){1&t&&d.Nb(0,"ft-empty-content",27)}const J=[{path:"",component:(()=>{class t{constructor(t,o,e){this.caixasService=t,this.modalService=o,this.loadingService=e,this.caixasMovimentacao=[],this.observacao="",this.modalObs={id:"modal-obs-movimentacao",title:"Observa\xe7\xe3o",icon:'<i class="fas fa-info-circle"></i>'},this.caixaFilters={codigoFranqueado:-1,dataReferencia:null}}ngOnInit(){}ngAfterViewInit(){this.filters.periodoFilterOnInitEmit.pipe(Object(l.a)(1)).subscribe(({dataInicio:t,codigoFranqueado:o})=>{this.caixaFilters.dataReferencia=t,this.caixaFilters.codigoFranqueado=o,this.getMovimentacoes()})}filtroPeriodo(t){this.caixaFilters.codigoFranqueado=t.codigoFranqueado,this.caixaFilters.dataReferencia=t.dataInicio,this.getMovimentacoes()}getMovimentacoes(){this.loadingService.show(),this.caixasService.getMovimentacoes(this.caixaFilters.codigoFranqueado,this.caixaFilters.dataReferencia).pipe(Object(l.a)(1),Object(b.a)(()=>{this.loadingService.hide()})).subscribe(t=>{this.caixasMovimentacao=t})}openModalObs(t){this.observacao=t,this.refModalObs.open()}tipoMovimentoColors(t){return{"text-primary":"Sangria"===t.TipoMovimento,"text-danger":"Retirada"===t.TipoMovimento,"text-success":"Refor\xe7o"===t.TipoMovimento}}}return t.\u0275fac=function(o){return new(o||t)(d.Mb(f),d.Mb(h.b),d.Mb(g))},t.\u0275cmp=d.Gb({type:t,selectors:[["ft-movimentacao-caixa"]],viewQuery:function(t,o){var e;1&t&&(d.Nc(y,!0),d.Nc(A,!0)),2&t&&(d.xc(e=d.bc())&&(o.refModalObs=e.first),d.xc(e=d.bc())&&(o.filters=e.first))},decls:13,vars:10,consts:[[3,"title"],[1,"d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block"],[3,"getTodayDate","showDataReferencia","periodoFilterEmit"],["filters",""],[3,"getTodayDate","showDataReferencia","titleModalFilter","filteredValueEmit"],[4,"ngFor","ngForOf"],[1,"p-relative"],["noResultText","N\xe3o h\xe1 dados de movimenta\xe7\xe3o do caixa para serem exibidos.",4,"ngIf"],[3,"modal"],["refModalObs",""],[1,"text-center","py-5"],[1,"my-3"],[1,"f-w-600"],[1,"icon","icon-banknote"],[0,"xlink","href","#icon-banknote"],["scrollHeight","420px",3,"value","scrollable"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[2,"width","185px"],[2,"width","160px"],[2,"width","150px"],[2,"width","250px"],[2,"width","140px"],[1,"text-right"],[3,"ngClass"],[1,"btn","btn-lg",3,"ngClass","disabled","click"],["noResultText","N\xe3o h\xe1 dados de movimenta\xe7\xe3o do caixa para serem exibidos."]],template:function(t,o){1&t&&(d.Nb(0,"ft-page-title",0),d.Sb(1,"div",1),d.Sb(2,"ft-periodo",2,3),d.ac("periodoFilterEmit",(function(t){return o.filtroPeriodo(t)})),d.Rb(),d.Rb(),d.Sb(4,"ft-button-filter",4),d.ac("filteredValueEmit",(function(t){return o.filtroPeriodo(t)})),d.Rb(),d.Gc(5,D,10,3,"ng-container",5),d.Sb(6,"div",6),d.Gc(7,P,1,0,"ft-empty-content",7),d.Rb(),d.Sb(8,"ft-modal",8,9),d.Sb(10,"div",10),d.Sb(11,"h5"),d.Ic(12),d.Rb(),d.Rb(),d.Rb()),2&t&&(d.mc("title","Movimenta\xe7\xe3o do caixa"),d.Ab(2),d.mc("getTodayDate",!0)("showDataReferencia",!1),d.Ab(2),d.mc("getTodayDate",!0)("showDataReferencia",!1)("titleModalFilter","Selecione uma Data para visualizar a Movimenta\xe7\xe3o do caixa"),d.Ab(1),d.mc("ngForOf",o.caixasMovimentacao),d.Ab(2),d.mc("ngIf",!o.caixasMovimentacao.length),d.Ab(1),d.mc("modal",o.modalObs),d.Ab(4),d.Jc(o.observacao))},directives:[R.a,S.a,x.a,a.l,a.m,I,r.c,w.c,a.k,O.a],pipes:[k,a.f],styles:["[_nghost-%COMP%]     .p-accordion-header-link{background:var(--color-blue-light-2)!important;color:#fff!important;transition:background .25s!important}[_nghost-%COMP%]     .p-accordion-header-link:hover{background:var(--color-blue-dark)!important}.icon[_ngcontent-%COMP%]{width:var(--space-md);height:var(--space-md);fill:#27c24c}"]}),t})()}];let V=(()=>{class t{}return t.\u0275mod=d.Kb({type:t}),t.\u0275inj=d.Jb({factory:function(o){return new(o||t)},imports:[[a.c,s.a,i.e.forChild(J),n.a,r.d,c.a],i.e]}),t})()}}]);