<ft-page-title
  [title]="'Vendas por Hora'"
  [subTitle]="
    'Selecione um período para visualizar as vendas agredadas por horário e por dia da semana'
  "
></ft-page-title>

<div class="d-none d-sm-none d-md-block d-lg-block d-xl-block">
  <ft-periodo (periodoFilterEmit)="filtroPeriodo($event)"></ft-periodo>
</div>

<ft-button-filter
  (filteredValueEmit)="filtroPeriodo($event)"
  [titleModalFilter]="
    'Selecione um período para visualizar as vendas agredadas por horário e por dia da semana'
  "
></ft-button-filter>

<ft-card>
  <div class="table-responsive">
    <table class="table table-sm table-striped table-borderless">
      <thead class="thead-bg">
        <tr>
          <th scope="col">HORA</th>
          <th scope="col" class="text-right">SEGUNDA</th>
          <th scope="col" class="text-right">TERÇA</th>
          <th scope="col" class="text-right">QUARTA</th>
          <th scope="col" class="text-right">QUINTA</th>
          <th scope="col" class="text-right">SEXTA</th>
          <th scope="col" class="text-right">SABADO</th>
          <th scope="col" class="text-right">DOMINGO</th>
          <th scope="col" class="text-right">TOTAL</th>
          <th scope="col" class="text-right">%</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of vendas">
          <td [ngClass]="{ 'td-total': item?.PenultimaLinha }">
            <span
              [ngClass]="{
                'total-result': item?.PenultimaLinha,
                'td-percent': item.UltimaLinha,
                'total-result__total':
                  item?.PenultimaLinha && item?.Hora == 'Total'
              }"
              class="td-hour"
              >{{ item?.Hora }}</span
            >
          </td>
          <td
            [ngClass]="{ 'td-total': item?.PenultimaLinha }"
            class="text-right"
          >
            <span
              *ngIf="!item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha
              }"
              >{{ item?.Segunda | currency: 'BRL':'symbol':'1.2-2' }}</span
            >
            <span
              *ngIf="item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha,
                'td-percent': item.UltimaLinha
              }"
              >{{ item?.Segunda | number: '1.2-2' }}%</span
            >
          </td>
          <td
            [ngClass]="{ 'td-total': item?.PenultimaLinha }"
            class="text-right"
          >
            <span
              *ngIf="!item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha
              }"
              >{{ item?.Terca | currency: 'BRL':'symbol':'1.2-2' }}</span
            >
            <span
              *ngIf="item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha,
                'td-percent': item.UltimaLinha
              }"
              >{{ item?.Terca | number: '1.2-2' }}%</span
            >
          </td>
          <td
            [ngClass]="{ 'td-total': item?.PenultimaLinha }"
            class="text-right"
          >
            <span
              *ngIf="!item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha
              }"
              >{{ item?.Quarta | currency: 'BRL':'symbol':'1.2-2' }}</span
            >
            <span
              *ngIf="item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha,
                'td-percent': item.UltimaLinha
              }"
              >{{ item?.Quarta | number: '1.2-2' }}%</span
            >
          </td>
          <td
            [ngClass]="{ 'td-total': item?.PenultimaLinha }"
            class="text-right"
          >
            <span
              *ngIf="!item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha
              }"
              >{{ item?.Quinta | currency: 'BRL':'symbol':'1.2-2' }}</span
            >
            <span
              *ngIf="item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha,
                'td-percent': item.UltimaLinha
              }"
              >{{ item?.Quinta | number: '1.2-2' }}%</span
            >
          </td>
          <td
            [ngClass]="{ 'td-total': item?.PenultimaLinha }"
            class="text-right"
          >
            <span
              *ngIf="!item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha
              }"
              >{{ item?.Sexta | currency: 'BRL':'symbol':'1.2-2' }}</span
            >
            <span
              *ngIf="item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha,
                'td-percent': item.UltimaLinha
              }"
              >{{ item?.Sexta | number: '1.2-2' }}%</span
            >
          </td>
          <td
            [ngClass]="{ 'td-total': item?.PenultimaLinha }"
            class="text-right"
          >
            <span
              *ngIf="!item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha
              }"
              >{{ item?.Sabado | currency: 'BRL':'symbol':'1.2-2' }}</span
            >
            <span
              *ngIf="item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha,
                'td-percent': item.UltimaLinha
              }"
              >{{ item?.Sabado | number: '1.2-2' }}%</span
            >
          </td>
          <td
            [ngClass]="{ 'td-total': item?.PenultimaLinha }"
            class="text-right"
          >
            <span
              *ngIf="!item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha
              }"
              >{{ item?.Domingo | currency: 'BRL':'symbol':'1.2-2' }}</span
            >
            <span
              *ngIf="item?.UltimaLinha"
              [ngClass]="{
                'total-result': item?.PenultimaLinha,
                'td-percent': item.UltimaLinha
              }"
              >{{ item?.Domingo | number: '1.2-2' }}%</span
            >
          </td>
          <td class="td-total">
            <span
              *ngIf="!item?.UltimaLinha"
              [ngClass]="{
                'total-result': !item?.ResultadoHorizontal
              }"
              >{{ item?.Total | currency: 'BRL':'symbol':'1.2-2' }}</span
            >
            <span
              *ngIf="item?.UltimaLinha"
              [ngClass]="{
                'total-result': !item?.ResultadoHorizontal,
                'td-percent': item.UltimaLinha
              }"
              >{{ item?.Total | number: '1.2-2' }}%</span
            >
          </td>
          <td class="td-percent" class="text-right">
            <span *ngIf="!item?.ResultadoHorizontal">
              {{ item?.Percentual | number: '1.2-2' }}%
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <ft-empty-content *ngIf="!vendas?.length"></ft-empty-content>
</ft-card>
