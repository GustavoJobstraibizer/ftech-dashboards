(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{CUGa:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("fXoL"),o=a("3Pt+"),i=a("AytR"),r=a("tk/3");let s=(()=>{class e{constructor(e){this.http=e}getListaFranqueado(){return this.http.get(`${i.a.API.URL}${i.a.API.Routes.adm.listaPessoaFranqueado}`)}}return e.\u0275fac=function(t){return new(t||e)(n.Wb(r.b))},e.\u0275prov=n.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=a("/SA8"),d=a("ZOsW");let u=(()=>{class e extends o.s{constructor(e,t,a,o){super(e,t),this.admService=a,this._helperService=o,this.handleChangeEmit=new n.n}ngOnInit(){}ngAfterViewInit(){this.admService.getListaFranqueado().subscribe(e=>{var t;this.items=e.Data;const a=this._helperService.getUserInfo();if(1===this.items.length)this.value=e.Data[0].codigo,this.handleChangeEmit.emit(e.Data[0]),a&&localStorage.setItem("unity",JSON.stringify({usuario:a.CodigoUsuario,franqueado:e.Data[0]}));else{this.items.unshift({auxiliar:null,codigo:-1,descricao:"TODOS",valor:0});const e=localStorage.getItem("unity")?JSON.parse(localStorage.getItem("unity")):null;this.checkUnityOfSelectedUser(e,a)?this.items.find(t=>{var a;return t.codigo==(null===(a=null==e?void 0:e.franqueado)||void 0===a?void 0:a.codigo)})&&(this.value=null===(t=null==e?void 0:e.franqueado)||void 0===t?void 0:t.codigo,this.handleChangeEmit.emit(null==e?void 0:e.franqueado)):(localStorage.removeItem("unity"),this.value=-1,this.handleChangeEmit.emit({auxiliar:null,codigo:-1,descricao:"TODOS",valor:0}))}})}checkUnityOfSelectedUser(e,t){return e&&e.usuario==t.CodigoUsuario}clearItemSelected(){localStorage.removeItem("unity")}handleChangeValue(e){const t=this._helperService.getUserInfo();localStorage.setItem("unity",JSON.stringify({usuario:t.CodigoUsuario,franqueado:e})),this.handleChangeEmit.emit(e)}set value(e){e!==this.innerValue&&(this.innerValue=e,this.onChange(e))}get value(){return this.innerValue}compareFn(e,t){return e&&t?e.id===t.id:e===t}writeValue(e){this.value=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}}return e.\u0275fac=function(t){return new(t||e)(n.Mb(n.D),n.Mb(n.l),n.Mb(s),n.Mb(c.b))},e.\u0275cmp=n.Gb({type:e,selectors:[["ft-combo-franquias"]],outputs:{handleChangeEmit:"handleChangeEmit"},features:[n.zb([{provide:o.j,useExisting:e,multi:!0}]),n.xb],decls:4,vars:4,consts:[[1,"form-group"],[3,"items","bindLabel","bindValue","ngModel","ngModelChange","change","clear"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"label"),n.Gc(2,"Unidade *"),n.Rb(),n.Sb(3,"ng-select",1),n.ac("ngModelChange",(function(e){return t.value=e}))("change",(function(e){return t.handleChangeValue(e)}))("clear",(function(){return t.clearItemSelected()})),n.Rb(),n.Rb()),2&e&&(n.Ab(3),n.kc("items",t.items)("bindLabel","descricao")("bindValue","codigo")("ngModel",t.value))},directives:[d.a,o.l,o.n],styles:[""]}),e})()},EE6X:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("fXoL"),o=a("ofXK");function i(e,t){if(1&e&&n.Nb(0,"div",5),2&e){const e=n.cc(2);n.kc("ngStyle",e.theme)}}function r(e,t){if(1&e&&(n.Qb(0,3),n.Ec(1,i,1,1,"div",4),n.Pb()),2&e){const e=n.cc();n.Ab(1),n.kc("ngForOf",e.objectsToIterate)}}function s(e,t){if(1&e&&n.Nb(0,"div",7),2&e){const e=n.cc(2);n.kc("ngStyle",e.theme)}}function c(e,t){if(1&e&&(n.Qb(0,3),n.Ec(1,s,1,1,"div",6),n.Pb()),2&e){const e=n.cc();n.Ab(1),n.kc("ngForOf",e.objectsToIterate)}}let d=(()=>{class e{constructor(){this.count=1,this.appearance="line"}ngOnInit(){this.objectsToIterate=Array(this.count).fill(1).map((e,t)=>t+1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["ft-skeleton-loader"]],inputs:{count:"count",appearance:"appearance",theme:"theme"},decls:4,vars:2,consts:[[1,"skeleton-container"],[1,"skeleton"],["class","w-100",4,"ngIf"],[1,"w-100"],["class","skeleton__circle",3,"ngStyle",4,"ngFor","ngForOf"],[1,"skeleton__circle",3,"ngStyle"],["class","skeleton__line",3,"ngStyle",4,"ngFor","ngForOf"],[1,"skeleton__line",3,"ngStyle"]],template:function(e,t){1&e&&(n.Sb(0,"div",0),n.Sb(1,"div",1),n.Ec(2,r,2,1,"ng-container",2),n.Ec(3,c,2,1,"ng-container",2),n.Rb(),n.Rb()),2&e&&(n.Ab(2),n.kc("ngIf","circle"==t.appearance),n.Ab(1),n.kc("ngIf","line"==t.appearance))},directives:[o.m,o.l,o.n],styles:["@-webkit-keyframes ghost-lines{0%{background-position:-100px}40%{background-position:40vw}to{background-position:60vw}}@keyframes ghost-lines{0%{background-position:-100px}40%{background-position:40vw}to{background-position:60vw}}.skeleton-container[_ngcontent-%COMP%]{padding:0 12px;width:100%}.skeleton-container[_ngcontent-%COMP%]   .skeleton[_ngcontent-%COMP%]{width:100%}.skeleton-container[_ngcontent-%COMP%]   .skeleton__line[_ngcontent-%COMP%]{width:100%;height:24px;border-radius:4px}.skeleton-container[_ngcontent-%COMP%]   .skeleton__circle[_ngcontent-%COMP%], .skeleton-container[_ngcontent-%COMP%]   .skeleton__line[_ngcontent-%COMP%]{background-color:grey;margin-bottom:6px;background-image:linear-gradient(90deg,hsla(0,0%,86.7%,.863),rgba(236,235,235,.95) 40px,hsla(0,0%,86.7%,.863) 80px);background-size:80vw;-webkit-animation:ghost-lines 1s linear infinite;animation:ghost-lines 1s linear infinite}.skeleton-container[_ngcontent-%COMP%]   .skeleton__circle[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%}"]}),e})()},PHdk:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("fXoL"),o=a("ofXK");function i(e,t){if(1&e&&n.Nb(0,"i"),2&e){const e=n.cc(2);n.Cb("mr-2 fw-600 "+e.icon)}}function r(e,t){if(1&e&&(n.Sb(0,"span",3),n.Ec(1,i,1,2,"i",4),n.Gc(2),n.Rb()),2&e){const e=n.cc();n.Ab(1),n.kc("ngIf",e.icon),n.Ab(1),n.Ic("",e.title," ")}}const s=["*"];let c=(()=>{class e{constructor(){this.title="",this.icon=""}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Gb({type:e,selectors:[["ft-card"]],inputs:{title:"title",icon:"icon"},ngContentSelectors:s,decls:4,vars:1,consts:[[1,"card"],["class","card-title",4,"ngIf"],[1,"card-body"],[1,"card-title"],[3,"class",4,"ngIf"]],template:function(e,t){1&e&&(n.jc(),n.Sb(0,"div",0),n.Ec(1,r,3,2,"span",1),n.Sb(2,"div",2),n.ic(3),n.Rb(),n.Rb()),2&e&&(n.Ab(1),n.kc("ngIf",t.title))},directives:[o.m],styles:[".card[_ngcontent-%COMP%]{margin:0;box-shadow:0 4px 6px 0 rgba(31,70,88,.04);border-radius:10px;width:auto;border:1px solid #dbe9f5}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:14px 16px;border-bottom:1px solid rgba(219,233,245,.6);font-size:18px;font-family:Circular std,sans-serif;color:#172b3e;font-weight:700;margin-bottom:0}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{text-align:center}"]}),e})()},iCHY:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("lJxs"),o=a("AytR"),i=a("fXoL"),r=a("tk/3");let s=(()=>{class e{constructor(e){this.http=e,this.escala=1e3}getFaturamento(e){return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.faturamento}?ano=${e.ano}&mes=${e.mes}&codigoFranqueado=${e.codigoFranqueado}`).pipe(Object(n.a)(e=>e.Data||{}))}getVendasTipoPagamento(e){return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasTipoPagamento}?ano=${e.ano}&mes=${e.mes}&codigoFranqueado=${e.codigoFranqueado}`).pipe(Object(n.a)(e=>e.Data||[]))}getVendasMensal(e){return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasMensal}?ano=${e.ano}&mes=${e.mes}&codigoFranqueado=${e.codigoFranqueado}&escala=${this.escala}`).pipe(Object(n.a)(e=>e.Data.Vendas.reduce((t,a)=>(t.push({Mes:`${2==a.Mes.toString().length?a.Mes.toString():`0${a.Mes.toString()}`}/${a.Ano.toString().substring(2,4)}`,Valor:a.Venda,Media:this.dividirPelaEscala(e.Data.Media)}),t),[])))}getVendasAcumuladas(e){return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasAcumuladas}?ano=${e.ano}&mes=${e.mes}&codigoFranqueado=${e.codigoFranqueado}&escala=${this.escala}`).pipe(Object(n.a)(e=>e.Data||[]))}getVendasTopProdutos(e){return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasTopProdutos}?ano=${e.ano}&mes=${e.mes}&codigoFranqueado=${e.codigoFranqueado}`).pipe(Object(n.a)(e=>e.Data||[]))}getVendasHistorico(e){return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasHistorico}?ano=${e.ano}&mes=${e.mes}&codigoFranqueado=${e.codigoFranqueado}&escala=${this.escala}`).pipe(Object(n.a)(e=>{const t=e.Data.Vendas.reduce((t,a)=>(t.push({Mes:a.Mes,VendaAnoAnterior:a.VendaAnoAnterior,VendaAnoAtual:a.VendaAnoAtual,MediaAnoAnterior:this.dividirPelaEscala(e.Data.MediaAnoAnterior)}),t),[]);return{AnoAnterior:e.Data.AnoAnterior,AnoAtual:e.Data.AnoAtual,Vendas:t}}))}getVendasPorCategoriaProduto(e,t,a){const i=new URLSearchParams({dataInicio:e,dataFim:t,codigoFranqueado:a.toString()}).toString();return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasPorCategoriaProduto}?${i}`).pipe(Object(n.a)(e=>(e.Data.map(e=>(e.Categoria?e.Expanded=!0:e.Visible=!0,e)),e.Data)))}getVendasFranqueado(e,t,a){const i=new URLSearchParams({dataInicio:e,dataFim:t,codigoFranqueado:a.toString()}).toString();return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasFranqueado}?${i}`).pipe(Object(n.a)(e=>e.Data?e.Data.reduce((e,t)=>(e.push({Cliente:{CPFCliente:t.CPFCliente,NomeCliente:t.NomeCliente,NumeroNF:t.NumeroNF,Vendedor:t.Vendedor,Expanded:!1},CodigoDocumento:t.CodigoDocumento,Data:t.Data,ValorBruto:t.ValorBruto,ValorDesconto:t.ValorDesconto,ValorLiquido:t.ValorLiquido,ResultadoHorizontal:t.ResultadoHorizontal,Total:t.Total}),e),[]):[]))}getVendasFranqueadoDetalhado(e){return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasFranqueadoDetalhado}?codigoDocumento=${e}`)}getVendasConsumoInterno(e,t,a){const i=new URLSearchParams({dataInicio:e,dataFim:t,codigoFranqueado:a.toString()}).toString();return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasConsumoInterno}?${i}`).pipe(Object(n.a)(e=>e.Data||[]))}getVendasConsumoInternoDetalhado(e,t,a,i){const r=new URLSearchParams({dataInicio:e,dataFim:t,codigoFranqueado:a.toString(),codigoRecebedor:i.toString()}).toString();return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasConsumoInternoDetalhado}?${r}`).pipe(Object(n.a)(e=>e.Data||[]))}getVendasPorHora(e,t,a){const i=new URLSearchParams({dataInicio:e,dataFim:t,codigoFranqueado:a.toString()}).toString();return this.http.get(`${o.a.API.URL}${o.a.API.Routes.dashboards.franqueados.vendasPorHora}?${i}`).pipe(Object(n.a)(e=>e.Data||[]))}dividirPelaEscala(e){return this.escala?e/this.escala:e}}return e.\u0275fac=function(t){return new(t||e)(i.Wb(r.b))},e.\u0275prov=i.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);