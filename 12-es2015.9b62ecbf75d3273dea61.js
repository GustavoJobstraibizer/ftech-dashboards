(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{hom0:function(t,o,e){"use strict";e.r(o),e.d(o,"MovimentacaoCaixaModule",(function(){return V}));var a=e("ofXK"),i=e("tyNb"),c=e("7LiV"),n=e("jIHw"),r=e("rEr+"),l=e("PCNd"),s=e("IzEk"),d=e("nYR2"),b=e("fXoL"),m=e("Wgwc"),p=e("AytR"),h=e("tk/3");let u=(()=>{class t{constructor(t){this.http=t}getMovimentacoes(t,o){return this.http.get(`${p.a.API.URL}${p.a.API.Routes.dashboards.caixas.movimentacoes.replace(":codigoFranqueado",t.toString()).replace(":dataReferencia",o?m(o).format("YYYY-MM-DD"):"")}`)}}return t.\u0275fac=function(o){return new(o||t)(b.Wb(h.b))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=e("K3ix"),g=e("JqCM");let v=(()=>{class t{constructor(t){this.spinner=t}show(){this.spinner.show()}hide(){this.spinner.hide()}}return t.\u0275fac=function(o){return new(o||t)(b.Wb(g.c))},t.\u0275prov=b.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var R=e("mIlV"),S=e("NmSL"),M=e("tkl0");const x=["*"];let I=(()=>{class t{constructor(){}ngOnInit(){}ngAfterViewInit(){this.onOpen(),this.onClose()}open(){$(`#${this.modal.id}`).modal("show")}close(){$(`#${this.modal.id}`).modal("hide")}onOpen(){this.modal.onOpen&&$(`#${this.modal.id}`).on("shown.bs.modal",()=>this.modal.onOpen())}onClose(){this.modal.onClose&&$(`#${this.modal.id}`).on("hidden.bs.modal",()=>this.modal.onClose())}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=b.Gb({type:t,selectors:[["ft-modal"]],inputs:{modal:"modal"},ngContentSelectors:x,decls:12,vars:3,consts:[["tabindex","-1","role","dialog","aria-hidden","true",1,"modal","fade",3,"id"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[3,"innerHTML"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"]],template:function(t,o){1&t&&(b.lc(),b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"div",2),b.Sb(3,"div",3),b.Sb(4,"h5",4),b.Nb(5,"span",5),b.Ic(6),b.Rb(),b.Sb(7,"button",6),b.ac("click",(function(){return o.close()})),b.Sb(8,"span",7),b.Ic(9,"\xd7"),b.Rb(),b.Rb(),b.Rb(),b.Sb(10,"div",8),b.kc(11),b.Rb(),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.mc("id",null==o.modal?null:o.modal.id),b.Ab(5),b.nc("innerHTML",null==o.modal?null:o.modal.icon,b.Bc),b.Ab(1),b.Kc(" ",null==o.modal?null:o.modal.title," "))},styles:[""]}),t})();var O=e("7zfz"),w=e("BdmU");let k=(()=>{class t{transform(t,...o){return t?m(t).format("DD/MM/YYYY HH:MM"):""}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=b.Lb({name:"dateFormat",type:t,pure:!0}),t})();const C=["refModalObs"],y=["filters"];function A(t,o){1&t&&(b.Sb(0,"colgroup"),b.Nb(1,"col",19),b.Nb(2,"col",20),b.Nb(3,"col",20),b.Nb(4,"col",21),b.Nb(5,"col",21),b.Nb(6,"col",21),b.Nb(7,"col",22),b.Nb(8,"col",23),b.Rb())}function F(t,o){1&t&&(b.Sb(0,"tr"),b.Sb(1,"th"),b.Ic(2,"Data"),b.Rb(),b.Sb(3,"th"),b.Ic(4,"Tipo Movimento"),b.Rb(),b.Sb(5,"th"),b.Ic(6,"Tipo Pagamento"),b.Rb(),b.Sb(7,"th",24),b.Ic(8,"Valor Sistema (R$)"),b.Rb(),b.Sb(9,"th",24),b.Ic(10,"Valor usu\xe1rio (R$)"),b.Rb(),b.Sb(11,"th",24),b.Ic(12,"Diferen\xe7a"),b.Rb(),b.Sb(13,"th"),b.Ic(14,"Operador caixa"),b.Rb(),b.Sb(15,"th"),b.Ic(16,"Obs."),b.Rb(),b.Rb())}const N=function(t,o){return{"btn-outline-dark":t,"btn-outline-primary":o}};function T(t,o){if(1&t){const t=b.Tb();b.Sb(0,"tr",25),b.Sb(1,"td"),b.Ic(2),b.fc(3,"dateFormat"),b.Rb(),b.Sb(4,"td"),b.Ic(5),b.Rb(),b.Sb(6,"td"),b.Ic(7),b.Rb(),b.Sb(8,"td",24),b.Ic(9),b.fc(10,"number"),b.Rb(),b.Sb(11,"td",24),b.Ic(12),b.fc(13,"number"),b.Rb(),b.Sb(14,"td",24),b.Ic(15),b.fc(16,"number"),b.Rb(),b.Sb(17,"td"),b.Ic(18),b.Rb(),b.Sb(19,"td"),b.Sb(20,"button",26),b.ac("click",(function(){b.Ac(t);const e=o.$implicit,a=b.ec(2);return e.Observacao&&a.openModalObs(e.Observacao)})),b.Ic(21," Ler texto "),b.Rb(),b.Rb(),b.Rb()}if(2&t){const t=o.$implicit,e=b.ec(2);b.mc("ngClass",e.tipoMovimentoColors(t)),b.Ab(2),b.Jc(b.gc(3,10,t.Data)),b.Ab(3),b.Jc(t.TipoMovimento),b.Ab(2),b.Jc(t.TipoPagamento),b.Ab(2),b.Jc(b.hc(10,12,t.ValorSistema,"1.2-2")),b.Ab(3),b.Jc(b.hc(13,15,t.ValorUsuario,"1.2-2")),b.Ab(3),b.Kc("",b.gc(16,18,t.PercentualDiferenca),"%"),b.Ab(3),b.Jc(t.OperadorCaixa),b.Ab(2),b.mc("ngClass",b.sc(20,N,!t.Observacao,t.Observacao))("disabled",!t.Observacao)}}function P(t,o){if(1&t&&(b.Qb(0),b.Sb(1,"div",11),b.Sb(2,"h5",12),b.dc(),b.Sb(3,"svg",13),b.Nb(4,"use",14),b.Rb(),b.Ic(5),b.Rb(),b.cc(),b.Sb(6,"p-table",15),b.Gc(7,A,9,0,"ng-template",16),b.Gc(8,F,17,0,"ng-template",17),b.Gc(9,T,22,23,"ng-template",18),b.Rb(),b.Rb(),b.Pb()),2&t){const t=o.$implicit;b.Ab(5),b.Kc(" Caixa - ",t.NomeCaixa," "),b.Ab(1),b.mc("value",t.Registros)("scrollable",!0)}}function D(t,o){1&t&&b.Nb(0,"ft-empty-content",27)}const J=[{path:"",component:(()=>{class t{constructor(t,o,e){this.caixasService=t,this.modalService=o,this.loadingService=e,this.caixasMovimentacao=[],this.observacao="",this.modalObs={id:"modal-obs-movimentacao",title:"Observa\xe7\xe3o",icon:'<i class="fas fa-info-circle"></i>'},this.caixaFilters={codigoFranqueado:-1,dataReferencia:null}}ngOnInit(){}ngAfterViewInit(){this.filters.periodoFilterOnInitEmit.pipe(Object(s.a)(1)).subscribe(({dataInicio:t,codigoFranqueado:o})=>{this.caixaFilters.dataReferencia=t,this.caixaFilters.codigoFranqueado=o,this.getMovimentacoes()})}filtroPeriodo(t){this.caixaFilters.codigoFranqueado=t.codigoFranqueado,this.caixaFilters.dataReferencia=t.dataInicio,this.getMovimentacoes()}getMovimentacoes(){this.loadingService.show(),this.caixasService.getMovimentacoes(this.caixaFilters.codigoFranqueado,this.caixaFilters.dataReferencia).pipe(Object(s.a)(1),Object(d.a)(()=>{this.loadingService.hide()})).subscribe(t=>{this.caixasMovimentacao=t})}openModalObs(t){this.observacao=t,this.refModalObs.open()}tipoMovimentoColors(t){return{"text-primary":"Sangria"===t.TipoMovimento,"text-danger":"Retirada"===t.TipoMovimento,"text-success":"Refor\xe7o"===t.TipoMovimento}}}return t.\u0275fac=function(o){return new(o||t)(b.Mb(u),b.Mb(f.b),b.Mb(v))},t.\u0275cmp=b.Gb({type:t,selectors:[["ft-movimentacao-caixa"]],viewQuery:function(t,o){var e;1&t&&(b.Nc(C,!0),b.Nc(y,!0)),2&t&&(b.xc(e=b.bc())&&(o.refModalObs=e.first),b.xc(e=b.bc())&&(o.filters=e.first))},decls:13,vars:10,consts:[[3,"title"],[1,"d-none","d-sm-none","d-md-block","d-lg-block","d-xl-block"],[3,"getTodayDate","showDataReferencia","periodoFilterEmit"],["filters",""],[3,"getTodayDate","showDataReferencia","titleModalFilter","filteredValueEmit"],[4,"ngFor","ngForOf"],[1,"p-relative"],["noResultText","N\xe3o h\xe1 dados de movimenta\xe7\xe3o do caixa para serem exibidos.",4,"ngIf"],[3,"modal"],["refModalObs",""],[1,"text-center","py-5"],[1,"my-3"],[1,"f-w-600"],[1,"icon","icon-banknote"],[0,"xlink","href","#icon-banknote"],["scrollHeight","420px",3,"value","scrollable"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[2,"width","185px"],[2,"width","160px"],[2,"width","150px"],[2,"width","250px"],[2,"width","140px"],[1,"text-right"],[3,"ngClass"],[1,"btn","btn-lg",3,"ngClass","disabled","click"],["noResultText","N\xe3o h\xe1 dados de movimenta\xe7\xe3o do caixa para serem exibidos."]],template:function(t,o){1&t&&(b.Nb(0,"ft-page-title",0),b.Sb(1,"div",1),b.Sb(2,"ft-periodo",2,3),b.ac("periodoFilterEmit",(function(t){return o.filtroPeriodo(t)})),b.Rb(),b.Rb(),b.Sb(4,"ft-button-filter",4),b.ac("filteredValueEmit",(function(t){return o.filtroPeriodo(t)})),b.Rb(),b.Gc(5,P,10,3,"ng-container",5),b.Sb(6,"div",6),b.Gc(7,D,1,0,"ft-empty-content",7),b.Rb(),b.Sb(8,"ft-modal",8,9),b.Sb(10,"div",10),b.Sb(11,"h5"),b.Ic(12),b.Rb(),b.Rb(),b.Rb()),2&t&&(b.mc("title","Movimenta\xe7\xe3o do caixa"),b.Ab(2),b.mc("getTodayDate",!0)("showDataReferencia",!1),b.Ab(2),b.mc("getTodayDate",!0)("showDataReferencia",!1)("titleModalFilter","Selecione uma Data para visualizar a Movimenta\xe7\xe3o do caixa"),b.Ab(1),b.mc("ngForOf",o.caixasMovimentacao),b.Ab(2),b.mc("ngIf",!o.caixasMovimentacao.length),b.Ab(1),b.mc("modal",o.modalObs),b.Ab(4),b.Jc(o.observacao))},directives:[R.a,S.a,M.a,a.l,a.m,I,r.c,O.c,a.k,w.a],pipes:[k,a.f],styles:["[_nghost-%COMP%]     .p-datatable-thead tr th{background:var(--color-blue-dark)!important;color:#fff!important}[_nghost-%COMP%]     .p-datatable-thead tr th p-sorticon .p-sortable-column-icon{color:#fff}[_nghost-%COMP%]     .p-datatable-thead tr th:hover{background:var(--color-blue-light-2)!important;color:#2c2c2c!important}[_nghost-%COMP%]     .p-datatable-thead tr th:hover p-sorticon .p-sortable-column-icon{color:#2c2c2c!important}[_nghost-%COMP%]     .p-datatable-scrollable-header-box{padding:0!important}[_nghost-%COMP%]     .p-accordion-header-link{background:var(--color-blue-light-2)!important;color:#fff!important;transition:background .25s!important}[_nghost-%COMP%]     .p-accordion-header-link:hover{background:var(--color-blue-dark)!important}.icon[_ngcontent-%COMP%]{width:var(--space-md);height:var(--space-md);fill:#27c24c}"]}),t})()}];let V=(()=>{class t{}return t.\u0275mod=b.Kb({type:t}),t.\u0275inj=b.Jb({factory:function(o){return new(o||t)},imports:[[a.c,l.a,i.e.forChild(J),n.a,r.d,c.a],i.e]}),t})()}}]);