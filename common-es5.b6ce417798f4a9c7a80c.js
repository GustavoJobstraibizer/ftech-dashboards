function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var a,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return _possibleConstructorReturn(this,a)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{CUGa:function(t,e,a){"use strict";a.d(e,"a",(function(){return f}));var n,o,r=a("fXoL"),c=a("3Pt+"),i=a("AytR"),u=a("tk/3"),s=((n=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getListaFranqueado",value:function(){return this.http.get("".concat(i.a.API.URL).concat(i.a.API.Routes.adm.listaPessoaFranqueado))}}]),t}()).\u0275fac=function(t){return new(t||n)(r.Vb(u.b))},n.\u0275prov=r.Hb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),d=a("/SA8"),l=a("ZOsW"),f=((o=function(t){_inherits(a,t);var e=_createSuper(a);function a(t,n,o,c){var i;return _classCallCheck(this,a),(i=e.call(this,t,n)).admService=o,i._helperService=c,i.handleChangeEmit=new r.n,i}return _createClass(a,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t=this;this.admService.getListaFranqueado().subscribe((function(e){var a;t.items=e.Data;var n=t._helperService.getUserInfo();if(1===t.items.length)t.value=e.Data[0].codigo,t.handleChangeEmit.emit(e.Data[0]),n&&localStorage.setItem("unity",JSON.stringify({usuario:n.CodigoUsuario,franqueado:e.Data[0]}));else{t.items.unshift({auxiliar:null,codigo:-1,descricao:"TODOS",valor:0});var o=localStorage.getItem("unity")?JSON.parse(localStorage.getItem("unity")):null;t.checkUnityOfSelectedUser(o,n)?t.items.find((function(t){var e;return t.codigo==(null===(e=null==o?void 0:o.franqueado)||void 0===e?void 0:e.codigo)}))&&(t.value=null===(a=null==o?void 0:o.franqueado)||void 0===a?void 0:a.codigo,t.handleChangeEmit.emit(null==o?void 0:o.franqueado)):(localStorage.removeItem("unity"),t.value=-1,t.handleChangeEmit.emit({auxiliar:null,codigo:-1,descricao:"TODOS",valor:0}))}}))}},{key:"checkUnityOfSelectedUser",value:function(t,e){return t&&t.usuario==e.CodigoUsuario}},{key:"clearItemSelected",value:function(){localStorage.removeItem("unity")}},{key:"handleChangeValue",value:function(t){var e=this._helperService.getUserInfo();localStorage.setItem("unity",JSON.stringify({usuario:e.CodigoUsuario,franqueado:t})),this.handleChangeEmit.emit(t)}},{key:"compareFn",value:function(t,e){return t&&e?t.id===e.id:t===e}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"value",set:function(t){t!==this.innerValue&&(this.innerValue=t,this.onChange(t))},get:function(){return this.innerValue}}]),a}(c.r)).\u0275fac=function(t){return new(t||o)(r.Lb(r.D),r.Lb(r.l),r.Lb(s),r.Lb(d.a))},o.\u0275cmp=r.Fb({type:o,selectors:[["ft-combo-franquias"]],outputs:{handleChangeEmit:"handleChangeEmit"},features:[r.yb([{provide:c.i,useExisting:o,multi:!0}]),r.wb],decls:4,vars:4,consts:[[1,"form-group"],[3,"items","bindLabel","bindValue","ngModel","ngModelChange","change","clear"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"label"),r.Cc(2,"Unidade *"),r.Qb(),r.Rb(3,"ng-select",1),r.Zb("ngModelChange",(function(t){return e.value=t}))("change",(function(t){return e.handleChangeValue(t)}))("clear",(function(){return e.clearItemSelected()})),r.Qb(),r.Qb()),2&t&&(r.zb(3),r.hc("items",e.items)("bindLabel","descricao")("bindValue","codigo")("ngModel",e.value))},directives:[l.a,c.k,c.m],styles:[""]}),o)},PHdk:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var n=a("fXoL"),o=a("ofXK");function r(t,e){if(1&t&&n.Mb(0,"i"),2&t){var a=n.bc(2);n.Bb("mr-2 fw-600 "+a.icon)}}function c(t,e){if(1&t&&(n.Rb(0,"span",3),n.Ac(1,r,1,2,"i",4),n.Cc(2),n.Qb()),2&t){var a=n.bc();n.zb(1),n.hc("ngIf",a.icon),n.zb(1),n.Ec("",a.title," ")}}var i=["*"],u=function(){var t=function(){function t(){_classCallCheck(this,t),this.title="",this.icon=""}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Fb({type:t,selectors:[["ft-card"]],inputs:{title:"title",icon:"icon"},ngContentSelectors:i,decls:4,vars:1,consts:[[1,"card"],["class","card-title",4,"ngIf"],[1,"card-body"],[1,"card-title"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(n.gc(),n.Rb(0,"div",0),n.Ac(1,c,3,2,"span",1),n.Rb(2,"div",2),n.fc(3),n.Qb(),n.Qb()),2&t&&(n.zb(1),n.hc("ngIf",e.title))},directives:[o.m],styles:[".card[_ngcontent-%COMP%]{margin:0;box-shadow:0 4px 6px 0 rgba(31,70,88,.04);border-radius:10px;width:auto;border:1px solid #dbe9f5}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:14px 16px;border-bottom:1px solid rgba(219,233,245,.6);font-size:18px;font-family:Circular std,sans-serif;color:#172b3e;font-weight:700}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{text-align:center}"]}),t}()},iCHY:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a("lJxs"),o=a("AytR"),r=a("fXoL"),c=a("tk/3"),i=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e,this.escala=1e3}return _createClass(t,[{key:"getFaturamento",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.faturamento,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado)).pipe(Object(n.a)((function(t){return t.Data||{}})))}},{key:"getVendasTipoPagamento",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasTipoPagamento,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado))}},{key:"getVendasMensal",value:function(t){var e=this;return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasMensal,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado,"&escala=").concat(this.escala)).pipe(Object(n.a)((function(t){return t.Data.Vendas.reduce((function(a,n){return a.push({Mes:"".concat(2==n.Mes.toString().length?n.Mes.toString():"0".concat(n.Mes.toString()),"/").concat(n.Ano.toString().substring(2,4)),Valor:n.Venda,Media:e.dividirPelaEscala(t.Data.Media)}),a}),[])})))}},{key:"getVendasAcumuladas",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasAcumuladas,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado,"&escala=").concat(this.escala))}},{key:"getVendasTopProdutos",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasTopProdutos,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado)).pipe(Object(n.a)((function(t){return t.Data||[]})))}},{key:"getVendasHistorico",value:function(t){var e=this;return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasHistorico,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado,"&escala=").concat(this.escala)).pipe(Object(n.a)((function(t){var a=t.Data.Vendas.reduce((function(a,n){return a.push({Mes:n.Mes,VendaAnoAnterior:n.VendaAnoAnterior,VendaAnoAtual:n.VendaAnoAtual,MediaAnoAnterior:e.dividirPelaEscala(t.Data.MediaAnoAnterior)}),a}),[]);return{AnoAnterior:t.Data.AnoAnterior,AnoAtual:t.Data.AnoAtual,Vendas:a}})))}},{key:"getVendasPorCategoriaProduto",value:function(t,e,a){var r=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:a.toString()}).toString();return console.log(r),this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasPorCategoriaProduto,"?").concat(r)).pipe(Object(n.a)((function(t){return t.Data.map((function(t){return t.Categoria?t.Expanded=!0:t.Visible=!0,t})),t.Data})))}},{key:"getVendasFranqueado",value:function(t,e,a){var r=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:a.toString()}).toString();return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasFranqueado,"?").concat(r)).pipe(Object(n.a)((function(t){return t.Data?t.Data.reduce((function(t,e){return t.push({Cliente:{CPFCliente:e.CPFCliente,NomeCliente:e.NomeCliente,NumeroNF:e.NumeroNF,Vendedor:e.Vendedor,Expanded:!1},CodigoDocumento:e.CodigoDocumento,Data:e.Data,ValorBruto:e.ValorBruto,ValorDesconto:e.ValorDesconto,ValorLiquido:e.ValorLiquido,ResultadoHorizontal:e.ResultadoHorizontal,Total:e.Total}),t}),[]):[]})))}},{key:"getVendasFranqueadoDetalhado",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasFranqueadoDetalhado,"?codigoDocumento=").concat(t))}},{key:"getVendasConsumoInterno",value:function(t,e,a){var r=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:a.toString()}).toString();return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasConsumoInterno,"?").concat(r)).pipe(Object(n.a)((function(t){return t.Data||[]})))}},{key:"getVendasConsumoInternoDetalhado",value:function(t,e,a,r){var c=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:a.toString(),codigoRecebedor:r.toString()}).toString();return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasConsumoInternoDetalhado,"?").concat(c)).pipe(Object(n.a)((function(t){return t.Data||[]})))}},{key:"getVendasPorHora",value:function(t,e,a){var r=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:a.toString()}).toString();return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasPorHora,"?").concat(r)).pipe(Object(n.a)((function(t){return t.Data||[]})))}},{key:"dividirPelaEscala",value:function(t){return this.escala?t/this.escala:t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Vb(c.b))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);