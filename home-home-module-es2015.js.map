{"version":3,"sources":["./src/app/routes/home/home.module.ts","./src/app/routes/home/home/home.component.ts","./src/app/routes/home/home/home.component.html"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["import { SharedModule } from './../../shared/shared.module';\nimport { NgModule } from '@angular/core';\nimport { HomeComponent } from './home/home.component';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [{ path: '', component: HomeComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes), SharedModule],\n  declarations: [HomeComponent],\n  exports: [RouterModule],\n})\nexport class HomeModule {}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FranqueadosService } from './../../../core/services/dashboards/franqueados.service';\nimport { EDateAction, HelperService } from './../../../core/services/helper.service';\nimport { IListaFranqueadoPerfil } from './../../../shared/interfaces/lista-franqueado-perfil.interface';\nimport { FiltroFranqueado } from './../../../shared/models/filtro-indicadores.model';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss'],\n})\nexport class HomeComponent implements OnInit, OnDestroy {\n  private onScrollEvent\n  public month: string\n  public codigoFranqueado = 0\n  private codigoFranquia = 0\n\n  public carregarValores = {\n    carregarHistorico: false,\n    carregaVendasAcumuladas: false,\n    carregaTopProdutos: false,\n    carregarVendasMensal: true,\n  }\n\n  public dateReference = new Date()\n  public fullYear = this.dateReference.getFullYear()\n  public filtrosPesquisa: FiltroFranqueado = new FiltroFranqueado(0)\n\n  constructor(\n    private _helperService: HelperService,\n    public franqueadoService: FranqueadosService\n  ) {\n    this.month = this._helperService.getReferenceMonth(this.dateReference)\n\n    this.onScrollEvent = () => {\n      this.checkTheTopOfCardChart('historicoVendas', 'carregarHistorico')\n      this.checkTheTopOfCardChart('vendasAcumuladas', 'carregaVendasAcumuladas')\n      this.checkTheTopOfCardChart('topProdutos', 'carregaTopProdutos')\n      this.checkTheTopOfCardChart('vendasMensal', 'carregarVendasMensal')\n    }\n\n    window.addEventListener('scroll', this.onScrollEvent, false)\n  }\n\n  checkTheTopOfCardChart(elementId: string, control: string) {\n    if (\n      document.querySelector(`#${elementId}`).getBoundingClientRect().top <\n      window.innerHeight\n    ) {\n      if (!this.carregarValores[control]) {\n        this.carregarValores[control] = true\n      }\n    }\n  }\n\n  getCodigoFranqueado(franqueado: IListaFranqueadoPerfil) {\n    // if (franqueado) {\n    this.codigoFranqueado = franqueado?.codigo\n    this.filtrosPesquisa.codigoFranqueado = franqueado?.codigo\n    // }\n  }\n\n  ngOnInit() {}\n\n  ngOnDestroy() {\n    window.removeEventListener('scroll', this.onScrollEvent, false)\n  }\n\n  decrementMonthReference() {\n    this.month = this._helperService.getReferenceMonth(this.dateReference, EDateAction.DECREMENT)\n    this.fullYear = this.dateReference.getFullYear()\n    this.filtrosPesquisa.ano = this.dateReference.getFullYear().toString()\n    this.filtrosPesquisa.mes = (this.dateReference.getMonth() + 1).toString()\n    this.filtrosPesquisa = Object.assign({}, this.filtrosPesquisa)\n  }\n\n  incrementMonthReference() {\n    this.month = this._helperService.getReferenceMonth(this.dateReference, EDateAction.INCREMENT)\n    this.fullYear = this.dateReference.getFullYear()\n    this.filtrosPesquisa.ano = this.dateReference.getFullYear().toString()\n    this.filtrosPesquisa.mes = (this.dateReference.getMonth() + 1).toString()\n    this.filtrosPesquisa = Object.assign({}, this.filtrosPesquisa)\n  }\n}\n","<div class=\"home-container\">\n  <div class=\"d-flex flex-column\">\n    <h2 class=\"home-title text-center\">\n      Indicadores do franqueado - Mês de referência\n      <!-- <strong>{{ month }}</strong> -->\n    </h2>\n\n    <div class=\"filter-month-reference\">\n      <div class=\"input-group d-flex justify-content-center\">\n        <div class=\"input-group-prepend\">\n          <button class=\"btn btn-primary filter-month-reference--btn-left\" type=\"button\" (click)=\"decrementMonthReference()\"><i class=\"far fa-arrow-alt-circle-left fa-lg\"></i></button>\n        </div>\n        <input type=\"text\" class=\"form-control filter-month-reference__input\" disabled [value]=\"month\">\n        <div class=\"input-group-prepend\">\n          <button class=\"btn btn-primary filter-month-reference--btn-right\" type=\"button\" (click)=\"incrementMonthReference()\"><i class=\"far fa-arrow-alt-circle-right fa-lg\"></i></button>\n        </div>\n      </div>\n    </div>\n\n    <hr class=\"w-100\" />\n\n    <div class=\"content-indicador\">\n      <ft-indicadores [(codigoFranqueado)]=\"codigoFranqueado\" [(filtrosPesquisa)]=\"filtrosPesquisa\"></ft-indicadores>\n\n      <div class=\"content-filter col-12 col-sm-12 col-md-8 col-lg-8 col-xl-4\">\n        <div\n          class=\"pl-0 pr-0 col-12 col-sm-12 col-md-8 col-lg-8 col-xl-12 ml-0 ml-md-2 ml-lg-2 ml-xl-2\"\n        >\n          <ft-combo-franquias\n            (handleChangeEmit)=\"getCodigoFranqueado($event)\"\n          ></ft-combo-franquias>\n        </div>\n        <!-- <ft-button-filter\n          class=\"btn-filter-custom\"\n          (handleClickEmit)=\"handleFilter()\"\n        ></ft-button-filter> -->\n      </div>\n    </div>\n  </div>\n\n  <section class=\"chart-container\">\n    <ft-card\n      [title]=\"'Vendas por tipo de pagamento'\"\n      id=\"tipoPagto\"\n      class=\"tipo-pagto\"\n    >\n      <chart-tipo-pagamento\n        [(codigoFranqueado)]=\"codigoFranqueado\"\n        [(filtrosPesquisa)]=\"filtrosPesquisa\"\n      ></chart-tipo-pagamento>\n    </ft-card>\n\n    <ft-card\n      title=\"Vendas Mensal {{\n        franqueadoService?.escala > 0\n          ? '(escala 1:' + (franqueadoService?.escala | number) + ')'\n          : ''\n      }}\"\n      id=\"vendasMensal\"\n      class=\"vendas-mensal\"\n    >\n      <chart-mensal\n        [carregarVendasMensal]=\"carregarValores.carregarVendasMensal\"\n        [(codigoFranqueado)]=\"codigoFranqueado\"\n        [(filtrosPesquisa)]=\"filtrosPesquisa\"\n      ></chart-mensal>\n    </ft-card>\n\n    <ft-card\n      title=\"Histórico de vendas {{\n        franqueadoService?.escala > 0\n          ? '(escala 1:' + (franqueadoService?.escala | number) + ')'\n          : ''\n      }}\"\n      id=\"historicoVendas\"\n      class=\"hist-vendas\"\n    >\n      <chart-historico\n        [carregarHistorico]=\"carregarValores.carregarHistorico\"\n        [(codigoFranqueado)]=\"codigoFranqueado\"\n        [(filtrosPesquisa)]=\"filtrosPesquisa\"\n      ></chart-historico>\n    </ft-card>\n\n    <ft-card\n      title=\"Vendas Acumuladas {{ fullYear }} {{\n        franqueadoService?.escala > 0\n          ? '(escala 1:' + (franqueadoService?.escala | number) + ')'\n          : ''\n      }}\"\n      id=\"vendasAcumuladas\"\n      class=\"vendas-acc\"\n    >\n      <chart-acumulados\n        [carregarVendasAcc]=\"carregarValores.carregaVendasAcumuladas\"\n        [(codigoFranqueado)]=\"codigoFranqueado\"\n        [(filtrosPesquisa)]=\"filtrosPesquisa\"\n      ></chart-acumulados>\n    </ft-card>\n\n    <ft-card\n      [title]=\"'Top 10 Produtos mais vendidos'\"\n      id=\"topProdutos\"\n      class=\"top-produtos\"\n    >\n      <chart-top-produtos\n        [carregarTopProdutos]=\"carregarValores.carregaTopProdutos\"\n        [(codigoFranqueado)]=\"codigoFranqueado\"\n        [(filtrosPesquisa)]=\"filtrosPesquisa\"\n      ></chart-top-produtos>\n    </ft-card>\n  </section>\n</div>\n"],"sourceRoot":"webpack:///"}