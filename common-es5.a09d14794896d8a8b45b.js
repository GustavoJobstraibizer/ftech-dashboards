function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,a=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{CUGa:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a,o,r=n("fXoL"),c=n("3Pt+"),i=n("AytR"),u=n("tk/3"),s=((a=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getListaFranqueado",value:function(){return this.http.get("".concat(i.a.API.URL).concat(i.a.API.Routes.adm.listaPessoaFranqueado))}}]),t}()).\u0275fac=function(t){return new(t||a)(r.Vb(u.b))},a.\u0275prov=r.Hb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),d=n("/SA8"),l=n("ZOsW"),f=((o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,o,c){var i;return _classCallCheck(this,n),(i=e.call(this,t,a)).admService=o,i._helperService=c,i.handleChangeEmit=new r.n,i}return _createClass(n,[{key:"ngOnInit",value:function(){}},{key:"ngAfterViewInit",value:function(){var t=this;this.admService.getListaFranqueado().subscribe((function(e){var n;t.items=e.Data;var a=t._helperService.getUserInfo();if(1===t.items.length)t.value=e.Data[0].codigo,t.handleChangeEmit.emit(e.Data[0]),a&&localStorage.setItem("unity",JSON.stringify({usuario:a.CodigoUsuario,franqueado:e.Data[0]}));else{t.items.unshift({auxiliar:null,codigo:-1,descricao:"TODOS",valor:0});var o=localStorage.getItem("unity")?JSON.parse(localStorage.getItem("unity")):null;t.checkUnityOfSelectedUser(o,a)?t.items.find((function(t){var e;return t.codigo==(null===(e=null==o?void 0:o.franqueado)||void 0===e?void 0:e.codigo)}))&&(t.value=null===(n=null==o?void 0:o.franqueado)||void 0===n?void 0:n.codigo,t.handleChangeEmit.emit(null==o?void 0:o.franqueado)):localStorage.removeItem("unity")}}))}},{key:"checkUnityOfSelectedUser",value:function(t,e){return t&&t.usuario==e.CodigoUsuario}},{key:"clearItemSelected",value:function(){localStorage.removeItem("unity")}},{key:"handleChangeValue",value:function(t){var e=this._helperService.getUserInfo();localStorage.setItem("unity",JSON.stringify({usuario:e.CodigoUsuario,franqueado:t})),this.handleChangeEmit.emit(t)}},{key:"compareFn",value:function(t,e){return t&&e?t.id===e.id:t===e}},{key:"writeValue",value:function(t){this.value=t}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"value",set:function(t){t!==this.innerValue&&(this.innerValue=t,this.onChange(t))},get:function(){return this.innerValue}}]),n}(c.s)).\u0275fac=function(t){return new(t||o)(r.Lb(r.D),r.Lb(r.l),r.Lb(s),r.Lb(d.a))},o.\u0275cmp=r.Fb({type:o,selectors:[["ft-combo-franquias"]],outputs:{handleChangeEmit:"handleChangeEmit"},features:[r.yb([{provide:c.i,useExisting:o,multi:!0}]),r.wb],decls:4,vars:4,consts:[[1,"form-group"],[3,"items","bindLabel","bindValue","ngModel","ngModelChange","change","clear"]],template:function(t,e){1&t&&(r.Rb(0,"div",0),r.Rb(1,"label"),r.Ac(2,"Unidade *"),r.Qb(),r.Rb(3,"ng-select",1),r.Zb("ngModelChange",(function(t){return e.value=t}))("change",(function(t){return e.handleChangeValue(t)}))("clear",(function(){return e.clearItemSelected()})),r.Qb(),r.Qb()),2&t&&(r.zb(3),r.hc("items",e.items)("bindLabel","descricao")("bindValue","codigo")("ngModel",e.value))},directives:[l.a,c.k,c.n],styles:[""]}),o)},PHdk:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("fXoL"),o=n("ofXK");function r(t,e){if(1&t&&a.Mb(0,"i"),2&t){var n=a.bc(2);a.Bb("mr-2 fw-600 "+n.icon)}}function c(t,e){if(1&t&&(a.Rb(0,"span",3),a.yc(1,r,1,2,"i",4),a.Ac(2),a.Qb()),2&t){var n=a.bc();a.zb(1),a.hc("ngIf",n.icon),a.zb(1),a.Cc("",n.title," ")}}var i=["*"],u=function(){var t=function(){function t(){_classCallCheck(this,t),this.title="",this.icon=""}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Fb({type:t,selectors:[["ft-card"]],inputs:{title:"title",icon:"icon"},ngContentSelectors:i,decls:4,vars:1,consts:[[1,"card"],["class","card-title",4,"ngIf"],[1,"card-body"],[1,"card-title"],[3,"class",4,"ngIf"]],template:function(t,e){1&t&&(a.gc(),a.Rb(0,"div",0),a.yc(1,c,3,2,"span",1),a.Rb(2,"div",2),a.fc(3),a.Qb(),a.Qb()),2&t&&(a.zb(1),a.hc("ngIf",e.title))},directives:[o.m],styles:[".card[_ngcontent-%COMP%]{margin:0;box-shadow:0 4px 6px 0 rgba(31,70,88,.04);border-radius:10px;width:auto;border:1px solid #dbe9f5}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:14px 16px;border-bottom:1px solid rgba(219,233,245,.6);font-size:18px;font-family:Circular std,sans-serif;color:#172b3e;font-weight:700}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{text-align:center}"]}),t}()},iCHY:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("lJxs"),o=n("AytR"),r=n("fXoL"),c=n("tk/3"),i=function(){var t=function(){function t(e){_classCallCheck(this,t),this.http=e}return _createClass(t,[{key:"getFaturamento",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.faturamento,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado)).pipe(Object(a.a)((function(t){return t.Data||{}})))}},{key:"getVendasTipoPagamento",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasTipoPagamento,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado))}},{key:"getVendasMensal",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasMensal,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado)).pipe(Object(a.a)((function(t){return t.Data.Vendas.reduce((function(e,n){return e.push({Mes:"".concat(2==n.Mes.toString().length?n.Mes.toString():"0".concat(n.Mes.toString()),"/").concat(n.Ano.toString().substring(2,4)),Valor:n.Venda,Media:t.Data.Media}),e}),[])})))}},{key:"getVendasAcumuladas",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasAcumuladas,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado))}},{key:"getVendasTopProdutos",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasTopProdutos,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado)).pipe(Object(a.a)((function(t){return t.Data||[]})))}},{key:"getVendasHistorico",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasHistorico,"?ano=").concat(t.ano,"&mes=").concat(t.mes,"&codigoFranqueado=").concat(t.codigoFranqueado)).pipe(Object(a.a)((function(t){var e=t.Data.Vendas.reduce((function(e,n){return e.push({Mes:n.Mes,VendaAnoAnterior:n.VendaAnoAnterior,VendaAnoAtual:n.VendaAnoAtual,MediaAnoAnterior:t.Data.MediaAnoAnterior}),e}),[]);return{AnoAnterior:t.Data.AnoAnterior,AnoAtual:t.Data.AnoAtual,Vendas:e}})))}},{key:"getVendasPorCategoriaProduto",value:function(t,e,n){var r=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:n.toString()}).toString();return console.log(r),this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasPorCategoriaProduto,"?").concat(r)).pipe(Object(a.a)((function(t){return t.Data.map((function(t){return t.Categoria?t.Expanded=!0:t.Visible=!0,t})),t.Data})))}},{key:"getVendasFranqueado",value:function(t,e,n){var r=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:n.toString()}).toString();return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasFranqueado,"?").concat(r)).pipe(Object(a.a)((function(t){return t.Data?t.Data.reduce((function(t,e){return t.push({Cliente:{CPFCliente:e.CPFCliente,NomeCliente:e.NomeCliente,NumeroNF:e.NumeroNF,Vendedor:e.Vendedor,Expanded:!1},CodigoDocumento:e.CodigoDocumento,Data:e.Data,ValorBruto:e.ValorBruto,ValorDesconto:e.ValorDesconto,ValorLiquido:e.ValorLiquido,ResultadoHorizontal:e.ResultadoHorizontal,Total:e.Total}),t}),[]):[]})))}},{key:"getVendasFranqueadoDetalhado",value:function(t){return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasFranqueadoDetalhado,"?codigoDocumento=").concat(t))}},{key:"getVendasConsumoInterno",value:function(t,e,n){var r=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:n.toString()}).toString();return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasConsumoInterno,"?").concat(r)).pipe(Object(a.a)((function(t){return t.Data||[]})))}},{key:"getVendasConsumoInternoDetalhado",value:function(t,e,n,r){var c=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:n.toString(),codigoRecebedor:r.toString()}).toString();return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasConsumoInternoDetalhado,"?").concat(c)).pipe(Object(a.a)((function(t){return t.Data||[]})))}},{key:"getVendasPorHora",value:function(t,e,n){var r=new URLSearchParams({dataInicio:t,dataFim:e,codigoFranqueado:n.toString()}).toString();return this.http.get("".concat(o.a.API.URL).concat(o.a.API.Routes.dashboards.franqueados.vendasPorHora,"?").concat(r)).pipe(Object(a.a)((function(t){return t.Data||[]})))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Vb(c.b))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);